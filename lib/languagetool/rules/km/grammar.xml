<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../print.xsl" ?>
<?xml-stylesheet type="text/css" href="../rules.css" 
title="Easy editing stylesheet" ?>
<!--
Khmer Grammar and Typo Rules for LanguageTool
Created by the Society for Better Books in Cambodia http://www.sbbic.org
See resource/km/tagset.txt for the meaning of the POS tags
$Id: grammar.xml,v 1.1 2010/01/14 12:42:24 milek_pl Exp $
-->
<rules lang="km" xsi:noNamespaceSchemaLocation="../rules.xsd"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <!-- ====================================================================== -->
  <!-- Possible typos -->
  <!-- ====================================================================== -->
<category name="Possible Typos">

	<rule id="HOUY_NUNG" name="ហើយ​នឹង (ហើយ​និង)">
    <pattern mark_from="0" mark_to="-1">
      <token>ហើយ</token>
      <token>នឹង</token>
	  <token><exception>ថ្កល់</exception></token>
    </pattern>
    <message>Did you mean
      <suggestion>ហើយ​និង</suggestion>?
    </message>
    <example type="correct">
      នោះ​<marker>ហើយ​និង</marker>​នេះ។
    </example>
    <example type="incorrect" correction="ហើយ​និង">
     នោះ​<marker>ហើយ​នឹង</marker>​នេះ។
    </example>
</rule>
<rule id="HOUYNUNG" name="ហើយនឹង (ហើយនិង)">
    <pattern mark_from="0" mark_to="-1">
      <token>ហើយនឹង</token>
	  <token><exception>ថ្កល់</exception></token>
    </pattern>
    <message>Did you mean
      <suggestion>ហើយនិង</suggestion>?
    </message>
    <example type="correct">
      នោះ​<marker>ហើយនិង</marker>​នេះ។
    </example>
    <example type="incorrect" correction="ហើយនិង">
     នោះ​<marker>ហើយនឹង</marker>​នេះ។
    </example>
</rule>
<rule id="NUNG_PDOAL" name="និង​ថ្កល់ (នឹង​ថ្កល់​)">
    <pattern>
      <token>និង</token>
	  <token>ថ្កល់</token>
    </pattern>
    <message>Did you mean
      <suggestion>នឹង​ថ្កល់</suggestion>?
    </message>
    <example type="correct">
    ទឹក​ដែល​​​ស្អាត ហើយ​<marker>នឹង​ថ្កល់</marker>។
    </example>
    <example type="incorrect" correction="នឹង​ថ្កល់">
    ទឹក​ដែល​​​ស្អាត ហើយ​<marker>និង​ថ្កល់</marker>។
    </example>
</rule>
<rule id="PRO_CHOMNAH" name="ខ្ញុំ​រាង​ចំណាស់​">
    <pattern>
        <token postag="PRO"></token>
        <token>ចំណាស់</token>
    </pattern>
    <message>Did you mean
      <suggestion>\1​រាង​ចំណាស់</suggestion>?
    </message>
    <example type="correct">
    ខ្ញុំ​រាង​ចំណាស់​បន្តិច​​ហើយ។
    </example>
    <example type="incorrect" correction="ខ្ញុំ​រាង​ចំណាស់">
    <marker>ខ្ញុំ​ចំណាស់</marker>​បន្តិច​​ហើយ។
    </example>
</rule>
<rule id="LENG_TOV" name="ឡើង​ទៅ​ (លើង​ទៅ)">
    <pattern>
        <token>លើង</token>
        <token>ទៅ</token>
    </pattern>
    <message>Did you mean
      <suggestion>ឡើង​ទៅ</suggestion>?
    </message>
      <short>Possible typo</short>
    <example type="correct">
    ខ្ញុំ​<marker>ឡើង​ទៅ</marker>​លើ​ផ្ទះ។
    </example>
    <example type="incorrect" correction="ឡើង​ទៅ">
    ខ្ញុំ​<marker>លើង​ទៅ</marker>​លើ​ផ្ទះ។
    </example>
</rule>
<rule id="JEAMUY_NENG" name="ជាមួយ​នឹង​ (ជាមួយ​និង)">
      <pattern mark_from="1">
        <token>ជាមួយ</token>
	<token>និង</token>
      </pattern>
    <message>Did you mean
      ជាមួយ​<suggestion>នឹង</suggestion>?
    </message>
      <short>Possible typo</short>
    <example type="correct">
   សូម​ជួយ​កូន​របស់​អ្នក​ឲ្យ​ហាត់​អត់ធ្មត់​ជាមួយ​​<marker>នឹង</marker>​ក្រុម​គ្រួសារ។
    </example>
    <example type="incorrect" correction="នឹង">
    សូម​ជួយ​កូន​របស់​អ្នក​អោយ​ហាត់​អត់ធ្មត់​ជាមួយ​<marker>និង</marker>​ក្រុម​គ្រួសារ។
    </example>
</rule>
<rule id="JEA_MUY_NENG" name="ជា​មួយ​នឹង​ (ជា​មួយ​និង)">
      <pattern mark_from="2">
	<token>ជា</token>
	<token>មួយ</token>
	<token>និង</token>
      </pattern>
    <message>Did you mean
      ជា​មួយ​<suggestion>នឹង</suggestion>?
    </message>
      <short>Possible typo</short>
    <example type="correct">
   សូម​ជួយ​កូន​របស់​អ្នក​ឲ្យ​ហាត់​អត់ធ្មត់​ជា​មួយ​​<marker>នឹង</marker>​ក្រុម​គ្រួសារ។
    </example>
    <example type="incorrect" correction="នឹង">
    សូម​ជួយ​កូន​របស់​អ្នក​អោយ​ហាត់​អត់ធ្មត់​ជា​មួយ​<marker>និង</marker>​ក្រុម​គ្រួសារ។
    </example>
</rule>
<rule id="BI_NEAK" name="ពីរ​អ្នក​ (ពីរ​នាក់)">
      <pattern mark_from="2">
	<token><exception regexp="yes">មក|និង|រស់</exception></token>
	<token>ពីរ</token>
	<token>អ្នក</token>
      </pattern>
    <message>Did you mean
      ពីរ​<suggestion>នាក់</suggestion>?
    </message>
      <short>Possible typo</short>
    <example type="correct">
   ទាំង​ពីរ​<marker>នាក់</marker>​។
    </example>
    <example type="incorrect" correction="នាក់">
    ទាំង​ពីរ​<marker>អ្នក</marker>​។
    </example>
</rule>
<rule id="MOK_BI_NEAK" name="មក​ពីរ​អ្នក (មក​ពីរ​នាក់)">
      <pattern mark_from="1">
	<token>មក</token>
	<token>ពីរ</token>
	<token><exception postag="CLS"></exception></token>
      </pattern>
    <message>Did you mean
	មក​<suggestion>ពី​\3</suggestion> or 
	មក​<suggestion>ពីរ​នាក់</suggestion>?
    </message>
      <short>Possible typo</short>
    <example type="correct">
  វា​មក​<marker>ពី​អ្នក</marker>។
    </example>
    <example type="incorrect" correction="ពី​អ្នក|ពីរ​នាក់">
    វា​មក​<marker>ពីរ​អ្នក</marker>។
    </example>
</rule>
</category>

<category name="Khmer Grammar">


<rule id="NOUN_POSESIVEPRONOUN" name="Possible incorrect position of noun posessed by pronoun" default="off">
<!--We removed this rule for now, it is too greedy-->
      <pattern mark_to="-1">
	<token postag="PRP|PRO" postag_regexp="yes"><exception regexp="yes">នេះ|នោះ</exception></token>
	<token postag="NN"><exception>ខ្លួន</exception></token>
	<token><exception postag="CLS"></exception></token>
      </pattern>
      <message>In Khmer the noun posessed precedes the pronoun. Write
	<suggestion>\2​\1</suggestion> instead.
    </message>
      <short>Grammatical problem or typo</short>
    <example type="correct">
    នេះ​គឺ​ជា​<marker>ឡាន​ខ្ញុំ</marker>។
    </example>
    <example type="incorrect" correction="ឡាន​ខ្ញុំ">
    នេះ​គឺ​ជា​​<marker>ខ្ញុំ​ឡាន</marker>។
    </example>
</rule>

<rule id="ADJ_NOUN" name="Possible incorrect position of adjective" default="off">
<!--We removed this rule for now, it is too greedy-->
      <pattern>
	<token postag="JJ"><exception postag="NUM|CLS|GEN|VB|AUX" postag_regexp="yes"/><exception>រៀងរាល់</exception></token>
	<token postag="NN"><exception postag_regexp="yes" postag="GEN|PRO"></exception></token>
      </pattern>
      <message>In Khmer the adjective follows the noun. Write
	<suggestion>\2​\1</suggestion> instead.
    </message>
      <short>Grammatical problem or typo</short>
    <example type="correct">
    ខ្ញុំ​មាន​<marker>ឡាន​ក្រហម</marker>​។
    </example>
    <example type="incorrect" correction="ឡាន​ក្រហម">
    ខ្ញុំ​មាន​<marker>ក្រហម​ឡាន</marker>​។
    </example>
</rule>

<rule id="Gender_spec" name="Possible incorrect position of gender word" default="off">
<!--We removed this rule for now, it is too greedy-->
      <pattern>
	<token postag="GEN"></token>
	<token postag="NN"><exception regexp="yes">ក្មេង|ចំណាស់</exception></token>
      </pattern>
      <message>In Khmer the gender normally follows the noun. Write
	<suggestion>\2​\1</suggestion> instead.
    </message>
      <short>Grammatical problem or typo</short>
    <example type="correct">
    <marker>លោក​ស្រី</marker>។
    </example>
    <example type="incorrect" correction="លោក​ស្រី">
    <marker>ស្រី​លោក</marker>។
    </example>
</rule>

<rule id="NEG_PART_POS" name="Possible incorrect position of negative particle" default="off">
<!--We removed this rule for now, it is too greedy-->
      <pattern>
	<token postag="JJ"><exception regexp="yes">ក្មេង|ចំណាស់|នោះ</exception></token>
	<token regexp="yes">មិន|អត់</token>
      </pattern>
      <message>In Khmer the negative particle never precedes an adjective. Write
	<suggestion>\2​\1</suggestion> instead.
    </message>
      <short>Grammatical problem or typo</short>
    <example type="correct">
    ឡាន​នោះ​<marker>មិន​ខៀវ</marker>​ទេ។
    </example>
    <example type="incorrect" correction="មិន​ខៀវ">
    ឡាន​នោះ​<marker>ខៀវ​មិន</marker>​ទេ។
    </example>
</rule>

<rule id="WANT_NOUN" name="INCORRECT USE OF WANT WITH NOUN">
      <pattern mark_from="0" mark_to="-1">
	<token>ចង់</token>
	<token postag="NN"><exception postag="VB"></exception></token>
      </pattern>
      <message>You should write 
	<suggestion>ចង់​បាន</suggestion> instead.
    </message>
      <short>Bad writing style</short>
    <example type="correct">
    ខ្ញុំ​<marker>ចង់​បាន</marker>​ឡាន​នោះ។
    </example>
    <example type="incorrect" correction="ចង់​បាន">
    ខ្ញុំ​<marker>ចង់</marker>​ឡាន​នោះ។
    </example>
</rule>

<rule id="WANT_VERB1" name="INCORRECT USE OF WANT WITH VERB1">
      <pattern mark_from="0" mark_to="-1">
	<token>ចង់បាន</token>
	<token postag="VB"><exception postag="NN"></exception></token>
      </pattern>
      <message>You should write 
	<suggestion>ចង់</suggestion> instead.
    </message>
      <short>Bad writing style</short>
    <example type="correct">
    ខ្ញុំ​<marker>ចង់</marker>​ទៅ។
    </example>
    <example type="incorrect" correction="ចង់">
    ខ្ញុំ​<marker>ចង់បាន</marker>​ទៅ។
    </example>
</rule>

<rule id="WANT_VERB2" name="INCORRECT USE OF WANT WITH VERB2">
      <pattern mark_from="0" mark_to="-1">
	<token>ចង់</token>
	<token>បាន</token>
	<token postag="VB"><exception postag="NN"></exception></token>
      </pattern>
      <message>You should write 
	<suggestion>ចង់</suggestion> instead.
    </message>
      <short>Bad writing style</short>
    <example type="correct">
    ខ្ញុំ​<marker>ចង់</marker>​ទៅ។
    </example>
    <example type="incorrect" correction="ចង់">
    ខ្ញុំ​<marker>ចង់​បាន</marker>​ទៅ។
    </example>
</rule>

<rule id="FROM_Classifier" name="INCORRECT USE OF FROM WITH CLASSIFIER">
      <pattern mark_from="1" mark_to="-1">
	<token regexp="yes">កាំភ្លើង|ដាវ|ដើមឈើ|អាវុធ</token>
	<token>ពី</token>
        <token postag="CLS"></token>
      </pattern>
      <message>You should write 
	<suggestion>ពីរ</suggestion> instead.
    </message>
      <short>Incorrect usage of ពី</short>
    <example type="correct">
    ដើមឈើ​<marker>ពីរ</marker>​ដើម។
    </example>
    <example type="incorrect" correction="ពីរ">
    ដើមឈើ​<marker>ពី</marker>​ដើម។
    </example>
</rule>

<rulegroup id="Classifier_PEOPLE" name="CLASSIFIERS THAT CAN BE USED WITH PEOPLE">
<rule>
<!--This rule dies if ANY Classifier is detected after មនុស្ស + Number -->
      <pattern>
          <token>មនុស្ស</token>
          <token postag="NUM"></token>
          <token><exception postag="CLS"></exception></token>
      </pattern>
      <message>You should write 
	<suggestion>\1​\2​នាក់​\3</suggestion>
	<suggestion>\1​\2​ក្រុម​\3</suggestion>
	<suggestion>\1​\2​ពួក​\3​</suggestion> or
	<suggestion>\1​\2​គូ​\3</suggestion> instead.
    </message>
      <short>Incorrect classifier for មនុស្ស</short>
    <example type="correct">
    <marker>មនុស្ស​ពីរ​នាក់</marker>​បាន​ទៅ​ផ្សារ។
    </example>
    <example type="incorrect" correction="មនុស្ស​ពីរ​នាក់​បាន|មនុស្ស​ពីរ​ក្រុម​បាន|មនុស្ស​ពីរ​ពួក​បាន​|មនុស្ស​ពីរ​គូ​បាន">
    <marker>មនុស្ស​​ពីរ​បាន</marker>​ទៅ​ផ្សារ។
    </example>
</rule>

<rule>
<!--This rule is true ONLY with a classifier and dies ONLY with classifiers that cane be used with មនុស្ស + Number -->
      <pattern>
	<token>មនុស្ស</token>
	<token postag="NUM"></token>
	<token postag="CLS"><exception regexp="yes">នាក់|ក្រុម|ពួក|គូ|ចំនួន</exception></token>
      </pattern>
      <message>You should write 
	<suggestion>\1​\2​នាក់</suggestion>
	<suggestion>\1​\2​ក្រុម</suggestion>
	<suggestion>\1​\2​ពួក</suggestion> or
	<suggestion>\1​\2​គូ</suggestion> instead.
    </message>
      <short>Incorrect classifier for មនុស្ស</short>
    <example type="correct">
    <marker>មនុស្ស​ពីរ​នាក់</marker>​បាន​ទៅ​ផ្សារ។
    </example>
    <example type="incorrect" correction="មនុស្ស​ពីរ​នាក់|មនុស្ស​ពីរ​ក្រុម|មនុស្ស​ពីរ​ពួក|មនុស្ស​ពីរ​គូ">
    <marker>មនុស្ស​​ពីរ​ក្បាល</marker>​បាន​ទៅ​ផ្សារ។
    </example>
</rule>
</rulegroup>

<rule id="NOUN_NENG_NOUN" name="INCORRECT USE OF ហើយ​និង with two nouns">
<!-- Sometimes when a verb does two or more actions, that are nouns, it is fine to use ហើយ​​និង​. Once we have the ability to detect sentence structure, we can add this ទ្រង់​នឹង​ផ្តល់​អោយ​អ្នក​នូវ​កំឡាំង ហើយនិង​អំណាច​រាល់​ថ្ងៃ-->
      <pattern mark_from="1" mark_to="-1">
	<token postag_regexp="yes" postag="NN|NNP|PRO|ROY"><exception postag="VB"></exception></token>
	<token>ហើយ</token>
	<token>និង</token>
	<token postag_regexp="yes" postag="NN|NNP|PRO|ROY"><exception postag="VB"></exception></token>
      </pattern>
      <message>You should write 
	<suggestion>\3</suggestion> instead.
    </message>
      <short>Incorrect usage of ហើយ​និង with two nouns</short>
    <example type="correct">
    ម្តាយ​<marker>និង</marker>​ឪពុក។
    </example>
    <example type="incorrect" correction="និង">
    ម្តាយ​<marker>ហើយ​និង</marker>​ឪពុក។
    </example>
</rule>

<rule id="NOUN_NENG_NOUN2" name="INCORRECT USE OF ហើយនិង with two nouns2">
<!-- Sometimes when a verb does two or more actions, that are nouns, it is fine to use ហើយ​​និង​. Once we have the ability to detect sentence structure, we can add this ទ្រង់​នឹង​ផ្តល់​អោយ​អ្នក​នូវ​កំឡាំង ហើយនិង​អំណាច​រាល់​ថ្ងៃ-->
      <pattern mark_from="1" mark_to="-1">
	<token postag_regexp="yes" postag="NN|NNP|PRO|ROY"><exception postag="VB"></exception></token>
	<token>ហើយនិង</token>
	<token postag_regexp="yes" postag="NN|NNP|PRO|ROY"><exception postag="VB"></exception></token>
      </pattern>
      <message>You should write 
	<suggestion>និង</suggestion> instead.
    </message>
      <short>Incorrect usage of ហើយនិង with two nouns</short>
    <example type="correct">
    ម្តាយ​<marker>និង</marker>​ឪពុក។
    </example>
    <example type="incorrect" correction="និង">
    ម្តាយ​<marker>ហើយនិង</marker>​ឪពុក។
    </example>
</rule>

<rule id="VERB_NENG_VERB" name="INCORRECT USE OF ​និង with two verbs">
      <pattern mark_from="1" mark_to="-1">
	<token postag="VB"><exception postag="NN"></exception></token>
	<token>និង</token>
	<token postag="VB"><exception postag="NN"></exception></token>
      </pattern>
      <message>You should write 
	<suggestion>ហើយនិង</suggestion> instead.
    </message>
      <short>Incorrect usage of និង with two verbs</short>
    <example type="correct">
    ខ្ញុំ​​ទៅ​<marker>ហើយនិង</marker>​មក​វិញ។
    </example>
    <example type="incorrect" correction="ហើយនិង">
    ខ្ញុំ​​ទៅ​<marker>និង</marker>​មក​វិញ។
    </example>
</rule>
<rule id="TonakeatWithNoun" name="Do not use ការ​ ឬ ភាព with ទណ្ឌឃាត">
	<pattern mark_from="1">
	<token regexp="yes">សេចក្តី|សេចក្ដី|ការ|ភាព|អំពើ</token>
	<token regexp="yes">(.*)(ន៍)</token>
      </pattern>
      <message>Remove ន៍ because the word is already a modified noun.
	<suggestion><match no="2" regexp_match="(.*)(ន៍)" regexp_replace="$1"></match></suggestion>
    </message>
      <short>Remove ន៍ because the word is already a modified noun.</short>
    <example type="correct">
    ការ​<marker>អភិវឌ្ឍ</marker>​សង្គម។
    </example>
    <example type="incorrect" correction="អភិវឌ្ឍ">
    ការ​<marker>អភិវឌ្ឍន៍</marker>​សង្គម។
    </example>
</rule>
<rule id="TonakeatWithNoun2" name="Do not use ការ​ ឬ ភាព with ទណ្ឌឃាត 2">
	<pattern>
	<token regexp="yes">(សេចក្តី|សេចក្ដី|ការ|ភាព|អំពើ)(.*)(ន៍)</token>
      </pattern>
      <message>Remove ន៍ because the word is already a modified noun.
	<suggestion><match no="1" regexp_match="(សេចក្តី|សេចក្ដី|ការ|ភាព|អំពើ)(.*)(ន៍)" regexp_replace="$1$2"></match></suggestion>
    </message>
      <short>Remove ន៍ because the word is already a modified noun.</short>
    <example type="correct">
    <marker>ការអភិវឌ្ឍ</marker>​សង្គម។
    </example>
    <example type="incorrect" correction="ការអភិវឌ្ឍ">
    <marker>ការអភិវឌ្ឍន៍</marker>​សង្គម។
    </example>
</rule>
</category>
</rules>
